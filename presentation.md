# 目录
## Node.js 介绍
## Node.js 能做什么
## Node.js 优点
## Node.js 缺点
## 几种支持多线程的方式
## 异步I/O 事件驱动

-------------------------------------------------
*************************************************
-------------------------------------------------


# Node.js 介绍
1. `Node.js` 不是一种独立的语言,与 `PHP、Python、Perl、Ruby` 的“既是语言也是平台” 不同。`Node.js` 也不是一个 `JavaScript` 框架,`CakePHP、Django、Rails。Node.js`更不是浏览器端的库,不能与 `jQuery、ExtJS` 论。`Node.js `是一个让 `JavaScript` 运行在服务 端的开发平台,`JavaScript` 成为脚本语言世界的一等公民,在服务端堪与 `PHP、Python、 Perl、       Ruby` 平起平坐。

2. `Node.js` 是一个划时代的技术,它在原有的` Web` 前端和后端技术的基础上总结并提炼出 了许多新的概念和方法,堪称是十多年来 `Web` 开发经验的集大成者。`Node.js` 可以作为服务 器向用户提供服务,与 `PHP、Python、Ruby on Rails `相比,它跳过了 `Apache、Nginx` 等` HTTP` 服务器,直接面向前端开发。`Node.js` 的许多设计理念与经典架构(如 LAMP)有着很大的 不同,可提供强大的伸缩能力,以适应21世纪10年代以后规模越来越庞大的互联网环境。

3. `Node.js` 是一个让 `JavaScript `运行在浏览器之外的平台。它实现了诸如文件系统、模块、 包、操作系统 API、网络通信等` Core JavaScript` 没有或者不完善的功能。历史上将 JavaScript 移植到浏览器外的计划不止一个,但`Node.js `是最出色的一个。随着 Node.js 的成功,各种浏 览器外的 JavaScript 实现逐步兴起,因此产生了 `CommonJS` 规范。`CommonJS` 试图拟定一套 完整的 `JavaScript` 规范,以弥补普通应用程序所需的 API,譬如文件系统访问、命令行、模 块管理、函数库集成等功能。`CommonJS` 制定者希望众多服务端 `JavaScript `实现遵循 `CommonJS `规范,以便相互兼容和代码复用。`Node.js` 的部份实现遵循了`CommonJS`规范,但 由于两者还都处于诞生之初的快速变化期,也会有不一致的地方。

4. `Node.js` 的 `JavaScript` 引擎是` V8`,来自 `Google Chrome` 项目。`V8 `号称是目前世界上最快 的 `JavaScript` 引擎,经历了数次引擎革命,它的 `JIT(Just-in-time Compilation,即时编译) `执行速度已经快到了接近本地代码的执行速度。Node.js 不运行在浏览器中,所以也就不存 在 JavaScript 的浏览器兼容性问题,你可以放心地使用 JavaScript 语言的所有特性。

# Node.js 能做什么
正如`JavaScript`为客户端而生,`Node.js`为网络而生,`Node.js`能做的远不止开发一个网站那么简单,  
使用`Node.js`,你可以轻松的开发:
```
* 具有复杂逻辑的网站
* 基于社交网络的大规模web应用
* Web Socket 服务器
* TCP/UDP 套接字应用程序
* 命令行工具
* 交互式终端程序
* 带有图形用户界面的本地应用程序
* 单元测试工具
* 客户端 JavaScript 编译器
```

# Node.js 优点:
1. 采用事件驱动、异步编程，为网络服务而设计。
    其实JavaScript的匿名函数和闭包特性非常适合`事件驱动`、`异步编程`。而且JavaScript也简单易学，很多前端设计人员可以很快上手做后端设计。
2. Node.js 非阻塞模式的IO处理给Node.js带来在相对低系统资源耗用下的高性能与出众的负载能力。
    非常适合用作依赖其它IO资源的中间层服务。
3. Node.js 轻量较高，可以认为是数据密集型分布式部署环境下的实时应用系统的完美解决方案。
    Node非常适合如下情况：  
    在响应客户端之前，你预计可能有很高的流量，但所需的服务器端逻辑和处理不一定很多。
    
# Node.js 缺点
1. 可靠性低
2. 单线程，单线程，只支持单核CPU，不能充分的利用多核CPU服务器。一旦这个进程崩掉，南无整个web服务就会崩掉。  

>不过这些缺点可以通过代码的健壮性来弥补。

# 目前Node.js 的网络服务器有以下几种支持多进程的方式：
1. 开启多个进程，每个进程绑定不同的端口，用反向代理服务器 Nginx 做负载均衡，  
   好处是我们可以借助强大的 Nginx 做一些过滤检查之类的操作，同时能够实现比较好的均衡策略，  
   但是坏处也是显而易见---我们引入了一个间接层。
2. 多进程绑定在同一个端口侦听。  
   在Node.js中，提供了进程间发送“文件句柄”的功能，这个功能实在是太好用了（貌似是yahoo的工程师提交的一个patch）,
3. 一个进程负责监听、接收连接，然后把接收到的链接平均发送到子进程中去处理。


# 异步I/O与 事件驱动
`Node.js`最大的特点就是采用异步式 `I/O`与事件驱动的框架设计。  
对于高并发的解决方案，传统的架构是多线程模型，也就是为每个业务逻辑提供一个系统线程，也就是为每个业务逻辑提供一个系统线程，  
通过系统线程切换来弥补同步`I/O`调用时的时间开销。`Node.js`使用的是单线程模型，对于所有的`I/O`都采用异步式`I/O`调用时的时间开销。  
`Node.js`使用的是单线程模型，对于所有`I/O`都采用异步式的请求方式，避免了频繁的上下文切换。  
`Node.js`在执行的过程中会维护一个事件队列，程序在执行时进入时间循环  等待下一个时间的到来，  
每个异步式`I/O`请求完成后会被推送到事件队列，等待程序进行处理。
